<div class="row">
  <div class="col-sm-12">
    <h1>Berekenen</h1>
  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <form class="form-inline">
      <div class="form-group">
        <label class="sr-only" for="month">maand</label>
        <input type="number" class="form-control" id="month" name="month" [(ngModel)]="month" placeholder="maand">
      </div>
      <div class="form-group">
        <label class="sr-only" for="year">jaar</label>
        <input type="number" class="form-control" id="year" name="year" [(ngModel)]="year" placeholder="jaar">
      </div>
      <button (click)="calculate()" id="calculateButton" class="btn btn-primary">Bereken</button>
    </form>
  </div>
</div>

<div *ngIf="calculations" class="row" style="padding-top: 50px">
  <div class="col-sm-12">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default" *ngFor="let calculation of calculations?.calculations; let i = index">
        <div class="panel-heading" role="tab" id="heading{{i}}">
          <h4 class="panel-title">
            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{i}}" aria-expanded="false" [attr.aria-controls]="'collapse' + i">
              <b>INSZ: <span id="inss{{i}}">{{calculation.inss}}</span></b>
              <b class="pull-right">&euro;<span id="total{{i}}">{{calculation.total}}</span></b>
            </a>
          </h4>
        </div>
        <div id="collapse{{i}}" class="panel-collapse collapse" role="tabpanel" [attr.aria-labelledby]="'heading' + i">
          <div class="panel-body">
            <table *ngIf="calculation?.allowances" class="panel-body table table-condensed table-hover">
              <tr>
                <td><b>toeslag</b></td>
                <td align="right"><b>bedrag</b></td>
              </tr>
              <tr *ngFor="let allowance of calculation?.allowances; let j = index">
                <td>{{allowance.type}}</td>
                <td align="right">&euro;{{allowance.value}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
